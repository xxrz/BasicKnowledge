# 数据库基础

####  1. 数据库, 数据库管理系统, 数据库系统, 数据库管理员

- 数据库：DB。信息的集合。

- 数据库管理系统：DBMS。建立使用管理数据库。

- 数据库系统：DBS。软件、数据库、数据管理员组成。

- 数据库管理员：DBA。管理控制数据库系统。




#### 2. 什么是元组, 码, 候选码, 主码, 外码, 主属性, 非主属性？

- 元组：表中的行

- 属性（码）：列

- 主码：主键

- 外码：外键

- 主属性：候选码中出现过得属性

- 候选码：可以做主码的属性

- 非主属性：不在候选码中的属性




####  3. 主键和外键有什么区别?

- 主键：唯一、非空

- 外键：用于和其他表建立联系，可重复，可空，可有多个



#### 4. 为什么不推荐使用外键与级联？

- 增加了数据库维护的复杂性，删和改的时候需要考虑外键约束；

- 外键的主从关系是定的，如果需求发生变化，则很麻烦；

- 为了保证数据的一致性和正确性，需要触发相关工作去检查，感觉放在应用层会更好一些；

- 对分库分表不友好，外键无法生效，并发的情况下也不好。



#### 5. 什么是 ER 图？

- **E-R 图** 也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。

- E-R之间的关系可以是1:1,1:N,M:N

- 例：ER转数据库

  ![image-20220416000034050](\appendix\1. 数据库_数据库基础\image-20220416000034050.png)

  通常会将任课教师也作为一个实体来处理)：

  ![image-20220416000113442](\appendix\1. 数据库_数据库基础\image-20220416000113442.png)



#### 6. 数据库范式

- 1NF：原子不可分
- 2NF：在1NF基础上消除非主属性对主码的部分函数依赖
- 3NF：在2NF基础上消除传递依赖



#### 7.  什么是存储过程?

- SQL 语句的集合，中间加了点逻辑控制语句
- 存储过程一旦调试完成通过后就能稳定运行，另外，使用存储过程比单纯 SQL 语句执行要快，因为存储过程是预编译过的
- 存储过程在互联网公司应用不多，因为存储过程难以调试和扩展，而且没有移植性，还会消耗数据库资源



#### 8.  drop、delete 与 truncate 区别？

- 用法区别
  - drop会删除表结构
  - delete会删除表数据，不加where和truncate差不多。
  - truncate清空数据，再插入数据的时候自增长 id 又从 1 开始，在清空表中数据的时候使用

- 属于不同的数据库语言
  - drop和truncate属于DDL(数据定义)，立即生效不能回滚。DDL 语句更多的被数据库管理员（DBA）所使用。
  - delete属于DML(数据操作)，可以回滚。不涉及到表的定义、结构的修改，更不会涉及到其他对象。

- 执行速度

  drop > truncate > delete

  因为Delete需要生成日志

  truncate需要重置



#### 9. 数据库设计通常分为哪几步?

- 需求分析
- 概念结构设计：ER
- 逻辑结构设计：ER转表
- 物理结构设计：数据库
- 数据库实施：编程
- 数据库运行和维护