# Redis

**Redis 就是一个使用 C 语言开发的数据库**，不过与传统数据库不同的是 **Redis 的数据是存在内存中的** ，也就是它是内存数据库，所以读写速度非常快，因此 Redis 被广泛应用于缓存方向。**Redis 除了做缓存之外，也经常用来做分布式锁，甚至是消息队列。**

**Redis 提供了多种数据类型来支持不同的业务场景。Redis 还支持事务 、持久化、Lua 脚本、多种集群方案。**



## 1. 三种常用的缓存读写策略

### 1.1 Cache Aside Pattern（旁路缓存模式）

**适合读请求比较多的场景**

写：

- 先更新 DB
- 然后直接删除 cache 

读：

- 从 cache 中读取数据，读取到就直接返回
- cache中读取不到的话，就从 DB 中读取数据返回
- 再把数据放到 cache 中





### 1.2 读写穿透

服务端把 cache 视为主要数据存储，从中读取数据并将数据写入其中。

写：

- 先查 cache，cache 中不存在，直接更新 DB。
- cache 中存在，则先更新 cache，然后 cache 服务自己更新 DB（**同步更新 cache 和 DB**）。

读：

- 从 cache 中读取数据，读取到就直接返回 。
- 读取不到的话，先从 DB 加载
- 写入到 cache 后返回响应。



### 1.3 Write Behind Pattern（异步缓存写入）

**只更新缓存，不直接更新 DB，而是改为异步批量的方式来更新 DB。**
